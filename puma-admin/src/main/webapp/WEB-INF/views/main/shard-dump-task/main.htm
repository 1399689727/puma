<div class="container-fluid">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <a class="glyphicon glyphicon-plus btn-sm" href="${rc.contextPath}/shard-dump-task/create/"
               style="float: right; color: white; font-size: 16px;"></a>
            <h5>分库分表数据Dump任务</h5>
        </div>

        <table class="table table-hover">
            <thead>
            <tr>
                <td class="col-md-1">服务器</td>
                <td class="col-md-1">来源</td>
                <td class="col-md-1">目标</td>
                <td class="col-md-2">条件</td>
                <td class="col-md-2">初始位置</td>
                <td class="col-md-1">状态</td>
                <td class="col-md-1">操作</td>
            </tr>
            </thead>

            <tbody>
            #foreach($shardDumpTask in ${shardDumpTasks})
            <tr>
                <td>${shardDumpTask.syncServerName}</td>
                <td>${shardDumpTask.dataBase}.${shardDumpTask.tableName}</td>
                <td>${shardDumpTask.targetDataBase}.${shardDumpTask.targetTableName}</td>
                <td>${shardDumpTask.shardRule}</td>
                <td>
                    #if(${shardDumpTask.binlogInfo})
                    ${shardDumpTask.binlogInfo.binlogFile} | ${shardDumpTask.binlogInfo.binlogPosition}
                    #end
                </td>
                <td class="sync-task-status">
                    #if(${shardDumpTaskStates[$shardDumpTask.getName()]})
                    ${shardDumpTaskStates[$shardDumpTask.getName()].getStatus().getDesc()}
                    |
                    ${shardDumpTaskStates[$shardDumpTask.getName()].getPercent()}%
                    #end
                </td>
                <!--<td class="sync-task-bin-log-info">-->
                <!--</td>-->
                <td>
                    <a href="#" data-toggle="modal" data-target="#warn-modal" data-subpath="remove"
                       data-path="shard-dump-task" data-name="${shardDumpTask.name}" class="no-under">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                    </a>
                </td>
            </tr>
            #end
            </tbody>

        </table>
    </div>
</div>