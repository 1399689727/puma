<div class="container-fluid">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h5>
                填写分库分表数据Dump配置
            </h5>
        </div>
        <form id="sync-task-create-step1" class="form-horizontal" method="post">
            <div class="panel-body">
                <div class="form-group">
                    <label class="col-md-3 control-label" for="srcDbName">来源实例:</label>
                    <div class="col-md-7">
                        <select id="srcDbName" name="srcDbName" class="form-control">
                            #foreach($srcDBInstance in ${srcDBInstances})
                            <option value="${srcDBInstance.name}">${srcDBInstance.name}</option>
                            #end
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 control-label" for="dataBase">来源数据库:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="dataBase" name="dataBase" type="text"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 control-label" for="tableName">来源表:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="tableName" name="tableName" type="text"/>
                    </div>
                </div>


                <div class="form-group">
                    <label class="col-md-3 control-label" for="dstDbName">目标实例:</label>
                    <div class="col-md-7">
                        <select id="dstDbName" name="dstDbName" class="form-control">
                            #foreach($dstDBInstance in ${dstDBInstances})
                            <option value="${dstDBInstance.name}">${dstDBInstance.name}</option>
                            #end
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 control-label" for="targetDataBase">目标数据库:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="targetDataBase" name="targetDataBase" type="text"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 control-label" for="targetTableName">目标表:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="targetTableName" name="targetTableName" type="text"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label" for="shardRule">Dump条件:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="shardRule" name="shardRule" type="text"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label" for="indexColumnName">分页字段名:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="indexColumnName" name="indexColumnName" type="text"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label" for="indexIncrease">分页大小:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="indexIncrease" name="indexIncrease" type="number"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label" for="indexKey">开始位置(>):</label>
                    <div class="col-md-7">
                        <input class="form-control" id="indexKey" name="indexKey" type="number"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label" for="maxKey">结束位置(<=):</label>
                    <div class="col-md-7">
                        <input class="form-control" id="maxKey" name="maxKey" type="number"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label"></label>
                    <div class="col-md-7">
                        <button class="btn btn-success" type="submit">保存</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<script>
    var changeForm = function(){
        if($('#isMigrate').val() == 'true'){
            $('#binlogName').parent().parent().show();
            $('#binlogPos').parent().parent().show();
            $('#seqTimestamp').parent().parent().hide();
        }else{
            $('#binlogName').parent().parent().hide();
            $('#binlogPos').parent().parent().hide();
            $('#seqTimestamp').parent().parent().show();
        }
    }

    $('#isMigrate').on('change',changeForm);

    changeForm();

</script>