#### 项目简介

随着网站业务不断发展，各业务对数据的实时性，数据库的可用性要求越来越高。

本系统可以实时获得数据库的变更并通过消息方式发布出来，供各业务线订阅。

同时，本系统还会提供通用的数据同步平台，一些简单场景的数据同步可以不需要自己开发，只需要联系我们配置一下即可。

&nbsp;

#### 使用文档和设计文档

>使用文档：[传送门](http://puma-admin01.beta:8080/#/docs/readme)

>设计文档：[传送门](http://puma-admin01.beta:8080/#/docs/design)

&nbsp;

#### 业务案例

##### DBA数据库迁移
DBA在很多业务迁库的过程中，可以通过`mysql dump`、`Puma`和`Zebra    `的相互配置，来实现不停机的数据库迁移。
其他业务如果有类似的需求，也可以利用`Puma`来实现。

##### 优惠订单团队分库分表多维度同步
优惠订单团队的统一订单项目使用了`Zebra`最新的分库分表组件，由于业务复杂不得不使用多个维度，需要将同一条数据按照不同规则写入多个数据源。
此时如果在客户端写入数据，那么将会影响性能，也会涉及到复杂的分布式事务，会引发很多问题。
因此该项目利用`Puma`监听主维度数据，然后实时同步到其他维度。

##### 广告平台技术引擎组通过`Puma`建索引
广告数据是通过`lucene`索引数据提供的，一般每隔10分钟，索引`build`层会读取数据库中的所有数据生成全量的索引数据提供给`search`层，那么两次全量之间数据的改动就需要以增量的形式提供给`search`层，之前我们是通过监控数据。表`UpdateTime`字段来扫描数数据的改动，这种方案的缺陷是无法监控数据的删除，而且不能完全做到实时化。现在通过`Puma`，我们只需订阅相关库表的修改，不仅可以监控表删除，更重要的是做到了广告数据的实时化

##### DW团队通过`Puma`将`MySQL`数据增量同步到`Hive`（开发中）
DW团队之前每晚全量拉取数据到`Hive`，浪费了大量的时间、带宽和磁盘。后来虽然提供了增量方案，但还是不能完美解决这个问题。目前DW正在开发新版系统通过`Puma`增量同步数据，后续的性能将会大幅度提升。