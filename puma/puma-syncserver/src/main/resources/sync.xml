<?xml version="1.0" encoding="UTF-8"?>
<sync xmlns="puma.dianping.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="sync.xsds">
    <!-- 同步源的mysql配置 -->
    <!-- <src> <host>192.168.1.1</host> <port>3306</port> <username>root</username> 
        <password>***</password> </src> -->
    <!-- 同步目标的mysql配置 -->
    <dest>
        <url>jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;noAccessToProcedureBodies=true
        </url>
        <username>root</username>
        <password>root</password>
    </dest>
    <!-- 同步源配置：PumaClient相关的配置 -->
    <name>testClient</name>
    <serverId>6667</serverId>
    <dml>true</dml>
    <ddl>true</ddl>
    <target>Dianping</target>
    <transaction>false</transaction>
    <!-- database和table的映射关系 -->
    <instance>
        <database from="pumatest" to="test">
            <table from="test1" to="test5">
                <column from="id" to="id" primary="true" />
                <column from="name" to="name" />
                <column from="desc" to="desc" />
            </table>
            <table from="test2" to="test4" partOf="true">
                <column from="id" to="id" primary="true" />
                <column from="name" to="name1" />
            </table>
            <table from="test3" to="test3" partOf="true">
                <column from="id" to="id" primary="true" />
                <column from="name" to="name1" />
            </table>
            <table from="test33" to="test33" partOf="true">
                <column from="id" to="id" primary="true" />
                <column from="name" to="name1" />
            </table>
            <!-- #regex(test_[0-31])这部分在admin端解析好变成多个<table配置> -->
            <!-- <table from="#regex(test_[0-31])" to="#partition(test_[$uid/2])" 
                partOf="true"> <column from="id" to="id" primary="true" /> <column from="name" 
                to="name1" /> </table> -->
            <table from="test" to="#partition(test_[$uid%2])">
                <column from="uid" to="uid" primary="true" />
                <column from="name" to="name1" />
                <column from="de" to="de1" />
            </table>
            <table from="*" to="*"></table>
        </database>
    </instance>
</sync>
