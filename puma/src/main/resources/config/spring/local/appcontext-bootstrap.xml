<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:task="http://www.springframework.org/schema/task"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
    http://www.springframework.org/schema/task
    http://www.springframework.org/schema/task/spring-task-3.0.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context-3.0.xsd">

    <!-- annotation scan -->
    <context:component-scan base-package="com.dianping.puma"/>

    <task:annotation-driven scheduler="taskScheduler"/>
    <task:scheduler id="taskScheduler" pool-size="20"/>

    <bean id="rawCodec" class="com.dianping.puma.core.codec.RawEventCodec"/>

    <bean id="binlogInfoHolder"
          class="com.dianping.puma.storage.holder.impl.DefaultBinlogInfoHolder"
          init-method="init">
        <property name="baseDir" value="/data/appdatas/puma/binlog/"/>
        <property name="bakDir" value="/data/appdatas/puma/binlog/bak/"/>
        <property name="storageBakDir" value="/data/appdatas/puma/bak/"/>
        <property name="masterStorageBaseDir" value="/data/appdatas/puma/storage/master/"/>
        <property name="slaveStorageBaseDir" value="/data/appdatas/puma/storage/slave/"/>
        <property name="binlogIndexBaseDir" value="/data/appdatas/puma/binlogIndex/"/>
    </bean>

</beans>
